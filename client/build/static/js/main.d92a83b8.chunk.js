(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,a){},45:function(e,t,a){e.exports=a(85)},50:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(39),s=a.n(r),i=(a(50),a(2)),o=a(3),c=a(5),m=a(4),d=a(6),u=a(10),h=a(19),p=a(9),f=a(24),v=a.n(f),g=a(7),w=a.n(g),E=function(e){e?w.a.defaults.headers.common.Authorization=e:delete w.a.defaults.headers.common.Authorization},b=a(18),y=a(41),N=a(21),C=function(e){return void 0===e||null===e||"object"===typeof e&&0===Object.keys(e).length||"string"===typeof e&&0===e.trim().length},R={isAuthenticated:!1,user:{}},O={},j={profile:null,profiles:null,loading:!1},x=Object(b.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return Object(N.a)({},e,{isAuthenticated:!C(t.payload),user:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE_LOADING":return Object(N.a)({},e,{loading:!0});case"GET_PROFILE":return Object(N.a)({},e,{profile:t.payload,loading:!1});case"CLEAR_CURRENT_PROFILE":return Object(N.a)({},e,{profile:null});default:return e}}}),S=[y.a],k=Object(b.e)(x,{},Object(b.d)(b.a.apply(void 0,S),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e})),F=function(e){return{type:"SET_CURRENT_USER",payload:e}},I=function(){return function(e){localStorage.removeItem("jwtToken"),E(!1),e(F({}))}},_=function(){return function(e){e(D())}},D=function(){return{type:"PROFILE_LOADING"}},P=function(){return{type:"CLEAR_CURRENT_PROFILE"}},U=a(42),A=Object(p.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(U.a)(e,["component","auth"]);return l.a.createElement(h.b,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?l.a.createElement(t,e):l.a.createElement(h.a,{to:"/login"})}}))}),V=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"onLogoutClick",value:function(e){e.preventDefault(),this.props.clearCurrentProfile(),this.props.logoutUser()}},{key:"render",value:function(){var e=this.props.auth,t=e.isAuthenticated,a=e.user,n=l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{href:"/dashboard",className:"nav-link"},a.displayname+"'s Profile: ",l.a.createElement("img",{className:"rounded-circle",src:a.profilePic||"https://picsum.photos/250/?random",alt:a.displayname,style:{width:"25px",marginRight:"5px"},title:a.username}))),l.a.createElement("li",null,l.a.createElement("a",{href:"/",onClick:this.onLogoutClick.bind(this),className:"nav-link logout"}," ",l.a.createElement("strong",null,"Logout")))),r=l.a.createElement("ul",{className:"navbar-nav ml-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{className:"nav-link",to:"/register"},"Sign Up")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{className:"nav-link",to:"/login"},l.a.createElement("strong",null,"Login"))));return l.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-dark bg-dark mb-4"},l.a.createElement("div",{className:"container"},l.a.createElement(u.b,{className:"navbar-brand",to:"/"},"CoolHands"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#mobile-nav"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"mobile-nav"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{className:"nav-link",to:"/profiles"},"Cool")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(u.b,{className:"nav-link",to:"/search"},"Search"))),t?n:r)))}}]),t}(n.Component),M=Object(p.b)(function(e){return{auth:e.auth}},{logoutUser:I,clearCurrentProfile:P})(V);function T(){return l.a.createElement("footer",{style:{position:"static",bottom:0,width:"100%",height:"5%"},className:"bg-dark text-white p-2 text-center footer"},"Copyright \xa9 ",(new Date).getFullYear()," CoolHands")}var L=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"render",value:function(){return l.a.createElement("div",{className:"landing"},l.a.createElement("div",{className:"landing-inner text-light"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-12 text-center"},l.a.createElement("h1",{className:"display-3 mb-4"},l.a.createElement("strong",null,"CoolHands")),l.a.createElement("p",{className:"lead"}," ","Create a profile, put in a delivery order."),l.a.createElement("hr",null),l.a.createElement(u.b,{to:"/dashboard",className:"btn btn-lg btn-primary mr-2"},"Sign Up"),l.a.createElement(u.b,{to:"/login",className:"btn btn-lg btn-light"},"Login"))))))}}]),t}(n.Component),z=Object(p.b)(function(e){return{auth:e.auth}})(L);function Y(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"container".concat(t?"-fluid":"")},a)}function q(e){var t=e.fluid,a=e.children;return l.a.createElement("div",{className:"row".concat(t?"-fluid":"")},a)}function G(e){var t=e.size,a=e.children;return l.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},a)}var H=function(){return l.a.createElement(Y,{fluid:!0},l.a.createElement(q,null,l.a.createElement(G,{size:"md-12"},l.a.createElement("div",{className:"jumbotron text-center"},l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("h1",null,l.a.createElement("span",{role:"img","aria-label":"Shrug Emoji"},"\ud83e\udd37\u200d\u200d\u2640\ufe0f"))))))},Z=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("img",{className:"restaruant-pic",src:"https://picsum.photos/160",alt:"restaurant"})),l.a.createElement("div",{className:"col-md"},l.a.createElement("h3",null,"Restaurant Name"),l.a.createElement("div",null,"Address"),l.a.createElement("div",null,"# of Reviews by Follows"),l.a.createElement("div",null,"Yelp Rating"),l.a.createElement("div",null,"Foodbook Rating"))))}}]),t}(n.Component),$=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-3"},l.a.createElement("img",{className:"restaruant-pic",src:"https://picsum.photos/160",alt:"restaurant"})),l.a.createElement("div",{className:"col-md"},l.a.createElement("h3",null,"Restaurant Name"),l.a.createElement("div",null,"Address"),l.a.createElement("div",null,"# of Reviews by Follows"),l.a.createElement("div",null,"Yelp Rating"),l.a.createElement("div",null,"Foodbook Rating"))))}}]),t}(n.Component),W=a(15),X=a(28),B=a.n(X),J=function(e){var t=e.name,a=e.placeholder,n=e.value,r=e.error,s=e.info,i=e.type,o=e.onChange,c=e.disabled;return l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:i,className:B()("form-control form-control-lg",{"is-invalid":r}),placeholder:a,name:t,value:n,onChange:o,disabled:c}),s&&l.a.createElement("small",{className:"form-text text muted"},s),r&&l.a.createElement("div",{className:"invalid-feedback"},r))};J.defaultProps={type:"text"};var K=J,Q={queryRestaurants:function(e){return w.a.put("/api/query",e)},getfollowers:function(e){return w.a.put("/api/followers/",e)},followUser:function(e){return w.a.post("/api/followers/",e)},addRestaurant:function(e){return w.a.post("/api/restaurants",e)},getRestaurants:function(e){return w.a.put("/api/restaurants",e)},addReview:function(e){return w.a.post("/api/reviews",e)},getReviews:function(e){return w.a.put("/api/reviews",e)},deleteReview:function(e){return w.a.delete("/api/reviews/"+e)},deleteRestaurant:function(e){return w.a.delete("/api/restaurants/"+e)},updateReview:function(e){return w.a.put("/api/reviews/"+e._id,e)},updateRestaurant:function(e){return w.a.put("/api/restaurants/"+e._id,e)},updateUser:function(e){return w.a.put("/api/users/"+e._id,e)},getUsers:function(e){return w.a.put("/api/users/",e)},getOneUser:function(e){return w.a.get("/api/users/"+e._id)},deleteFollower:function(e){return w.a.delete("/api/followers/"+e)},autocomplete:function(e){return w.a.post("/api/autocomp",e)},geocode:function(e){return w.a.post("/api/geocode",e)},addFollower:function(e){return w.a.post("/api/followers",e)},searchId:function(e){return w.a.put("/api/searchId",e)}},ee=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={username:"",displayname:"",email:"",password:"",password2:"",city:"",stateName:"",profilePic:"",errors:{},modalState:"hide-modal",message:""},a.onChange=function(e){if(e.preventDefault(),"username"===e.target.name?/^([a-zA-Z0-9]){0,15}$/.test(e.target.value)&&a.setState(Object(W.a)({},e.target.name,e.target.value)):a.setState(Object(W.a)({},e.target.name,e.target.value)),"username"===e.target.name)Q.getUsers({username:e.target.value}).then(function(e){if(e.data.length>0){var t=a.state.errors;t.username="Username unavailable",a.setState({errors:t})}else{var n=a.state.errors;n.username="",a.setState({errors:n})}});else if("password"===e.target.name)if(/^([a-zA-Z0-9-_]){0,15}$/.test(e.target.value)){var t=a.state.errors;t.password="",a.setState({errors:t})}else{var n=a.state.errors;n.password="Invalid Characters. Use Only: a-z, A-Z, 0-9, '_', '-'",a.setState({errors:n})}else if("password2"===e.target.name)if(/^([a-zA-Z0-9-_]){0,15}$/.test(e.target.value))if(e.target.value.length>0&&e.target.value!==a.state.password){var l=a.state.errors;l.password2="Passwords do not match",a.setState({errors:l})}else{var r=a.state.errors;r.password2="",a.setState({errors:r}),console.log("temperrors"+r)}else{var s=a.state.errors;s.password2="Invalid Characters. Use Only: a-z, A-Z, 0-9, '_', '-'",a.setState({errors:s})}},a.onSubmit=function(e){e.preventDefault();var t={username:a.state.username,displayname:a.state.displayname.trim(),email:a.state.email.trim(),password:a.state.password.trim(),password2:a.state.password2.trim(),city:a.state.city.trim(),stateName:a.state.stateName.trim()};console.log("newUser"+t),a.state.profilePic.length>0&&(t.profilePic=a.state.profilePic),a.props.registerUser(t,a.props.history).then(function(e){a.setState({modalState:"show-modal",message:"Thank you for signing up. Please go to the login page to login."})}).catch(function(e){a.setState({errors:e.response.data})})},a.closeModal=function(e){"closeme"===e.target.id&&(e.preventDefault(),a.setState({modalState:"hide-modal"}),a.props.history.push("/login"))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard"),console.log("state"+n.Component)}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return console.log("errors at render"+e),l.a.createElement("div",{className:"register"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 m-auto"},l.a.createElement("h1",{className:"display-4 text-center font-weight-bold white"},"Sign Up"),l.a.createElement("p",{className:"lead text-center"},"Create your CoolHands account"),l.a.createElement("form",{noValidate:!0,onSubmit:this.onSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement(K,{placeholder:"Username",name:"username",type:"name",value:this.state.username,onChange:this.onChange,error:e.username}),l.a.createElement(K,{placeholder:"Display Name",name:"displayname",type:"name",value:this.state.displayname,onChange:this.onChange,error:e.displayname}),l.a.createElement(K,{placeholder:"Email Address",name:"email",type:"email",value:this.state.email,onChange:this.onChange,error:e.email}),l.a.createElement(K,{placeholder:"Profile Pic",name:"profilePic",type:"",value:this.state.profilePic,onChange:this.onChange,error:e.profilePic}),l.a.createElement(K,{placeholder:"City",name:"city",type:"",value:this.state.city,onChange:this.onChange,error:e.city}),l.a.createElement(K,{placeholder:"State",name:"stateName",type:"",value:this.state.stateName,onChange:this.onChange,error:e.stateName}),l.a.createElement(K,{placeholder:"Password",name:"password",type:"password",value:this.state.password,onChange:this.onChange,error:e.password}),l.a.createElement(K,{placeholder:"Confirm Password",name:"password2",type:"password",value:this.state.password2,onChange:this.onChange,error:e.password2}),l.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"})))))),l.a.createElement("div",{id:"modal",className:this.state.modalState,onClick:this.closeModal},l.a.createElement("div",{id:"portfolioscreen",className:"modal-content"},l.a.createElement("div",null,l.a.createElement("h2",{className:"message"},this.state.message)),l.a.createElement("button",{id:"closeme",className:"btn btn-outline-danger closebtn",onClick:this.closeModal},"Close"))))}}]),t}(n.Component),te=Object(p.b)(function(e){return{auth:e.auth,errors:e.errors}},{registerUser:function(e,t){return function(t){return w.a.post("/api/users/register",e)}}})(Object(h.f)(ee)),ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={name:"",email:"",password:"",errors:{}},a.onChange=function(e){e.preventDefault(),a.setState(Object(W.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t={email:a.state.email,password:a.state.password};a.props.loginUser(t)},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/dashboard"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return l.a.createElement("div",{className:"login"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 m-auto"},l.a.createElement("h1",{className:"display-4 text-center font-weight-bold white"},"Log In"),l.a.createElement("p",{className:"lead text-center"},"Sign in to your CoolHands account"),l.a.createElement("form",{onSubmit:this.onSubmit},l.a.createElement(K,{placeholder:"Email Address",name:"email",type:"email",value:this.state.email,onChange:this.onChange,error:e.email}),l.a.createElement(K,{placeholder:"Password",name:"password",type:"password",value:this.state.password,onChange:this.onChange,error:e.password}),l.a.createElement("input",{type:"submit",className:"btn btn-info btn-block mt-4"}))))))}}]),t}(n.Component),ne=Object(p.b)(function(e){return{auth:e.auth,errors:e.errors}},{loginUser:function(e){return function(t){w.a.post("/api/users/login",e).then(function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),E(a);var n=v()(a);t(F(n))}).catch(function(e){return t({type:"GET_ERRORS",payload:e.response.data})})}}})(ae),le=a(1),re=a(20),se=a.n(re),ie=function(e){return l.a.createElement("div",{className:"card d-flex flex-row"},l.a.createElement("div",{className:"rating"},l.a.createElement("h5",null,"Restaurant: ",l.a.createElement(u.b,{to:{pathname:"/search/id",state:{yelpId:e.yelpid}}},e.name)),l.a.createElement("h5",null,"Rating:",l.a.createElement(se.a,{rating:e.rating,starRatedColor:"black",numberOfStars:5,name:"rating",starDimension:"15px",starSpacing:"2px",title:"Rating: "})),l.a.createElement("h5",null,"Review: ",e.review),l.a.createElement("h5",null,"Review By: ",e.displayname+"  ("+e.username+")"),l.a.createElement("h5",null,e.reviews),l.a.createElement("h5",null,e.yourReviews),l.a.createElement("div",{className:e.myClass,onClick:e.deletebtn,reviewid:e.reviewid},"\xd7"),l.a.createElement("div",{className:e.editClass,onClick:e.editreview,reviewid:e.reviewid})))};a(83);function oe(e){var t=e.children;return l.a.createElement("div",{className:"list-overflow-container"},l.a.createElement("ul",{className:"list-group"},t))}function ce(e){var t=e.children;return l.a.createElement("li",{className:"list-group-item"},t)}function me(e){return l.a.createElement("button",Object.assign({},e,{style:{marginBottom:10},className:e.className}),e.children)}var de=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).loadReviews=function(){Q.getReviews().then(function(e){return a.setState({reviews:e.data,rating:"",comment:""})}).catch(function(e){return console.log(e)})},a.handleFormSubmit=function(e){e.preventDefault(),a.state.comment&&a.updateReview()},a.updateReview=function(){Q.updateReview({_id:a.props.review._id,UserId:a.props.auth.user.id,username:a.props.auth.user.username,displayname:a.props.auth.user.displayname,YelpId:a.props.review.YelpId,restaurantname:a.props.review.restaurantname,rating:a.state.rating,review:a.state.comment}).then(function(){a.props.closeModal(),a.props.refreshFunction(),a.loadReviews()}).catch(function(e){return console.log(e)})},a.state={rating:0,comment:""},a.handleInputChange=a.handleInputChange.bind(Object(le.a)(Object(le.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getCurrentProfile(),this.loadReviews()}},{key:"componentWillReceiveProps",value:function(e){this.setState({rating:e.review.rating,comment:e.review.review})}},{key:"handleInputChange",value:function(e){return function(t){var a={};a[e]=t.target.value,this.setState(a)}.bind(this)}},{key:"render",value:function(){return l.a.createElement("div",{className:"card"},l.a.createElement(q,null,l.a.createElement("div",{className:"col-md"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"rating"},"Rating:"),l.a.createElement("select",{className:"form-control",id:"rating",value:this.state.rating,onChange:this.handleInputChange("rating")},l.a.createElement("option",null,"0"),l.a.createElement("option",null,"0.5"),l.a.createElement("option",null,"1"),l.a.createElement("option",null,"1.5"),l.a.createElement("option",null,"2"),l.a.createElement("option",null,"2.5"),l.a.createElement("option",null,"3"),l.a.createElement("option",null,"3.5"),l.a.createElement("option",null,"4"),l.a.createElement("option",null,"4.5"),l.a.createElement("option",null,"5"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"comment"},"Comment:"),l.a.createElement("textarea",{className:"form-control",id:"comment",rows:"3",placeholder:"Comment (Required)",value:this.state.comment,onChange:this.handleInputChange("comment")}))))),l.a.createElement("div",{className:"btngroup"},l.a.createElement(me,{disabled:!this.state.comment,onClick:this.handleFormSubmit,className:"btn btn-success btn-left"},"Update Review"),l.a.createElement(me,{onClick:this.props.closeModal,className:"btn btn-danger btn-right"},"Cancel")))}}]),t}(n.Component),ue=Object(p.b)(function(e){return{profile:e.profile,auth:e.auth}},{getCurrentProfile:_})(de),he=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).findFollowers=function(){var e={FollowingId:a.props.auth.user.id};Q.getfollowers(e).then(function(e){var t=e.data.length;a.setState({followers:e.data,numfollowers:t})}).catch(function(e){return console.log(e)})},a.findFollowing=function(){var e={FollowerId:a.props.auth.user.id};Q.getfollowers(e).then(function(e){var t=e.data.length;a.setState({followers:e.data,numfollowing:t})}).catch(function(e){return console.log(e)})},a.getReviews=function(){var e=a.props.auth.user;Q.getReviews({UserId:e.id}).then(function(e){for(var t in e.data)e.data[t].className="deletebtn",e.data[t].editClass="editbtn";a.setState({yourReviews:e.data})}).catch(function(e){return console.log(e)})},a.deleteReview=function(e){e.preventDefault();var t=e.target.getAttribute("reviewid");a.setState({deleteContentClass:"modal-content-delete showContent",modalState:"show-modal",reviewID:t})},a.confirmDelete=function(e){e.preventDefault(),Q.deleteReview(a.state.reviewID).then(function(){a.setState({yourReviews:[],modalState:"hide-modal",editContentClass:"modal-content-edit d-none",deleteContentClass:"modal-content-delete d-none"}),a.getReviews()})},a.getReviewCount=function(){var e=a.props.auth.user;Q.getReviews({UserId:e.id}).then(function(e){a.setState({numReviews:e.data.length})}).catch(function(e){return console.log(e)})},a.getFeed=function(){Q.getfollowers({FollowerId:a.props.auth.user.id}).then(function(e){var t=[],n=!0,l=!1,r=void 0;try{for(var s,i=e.data[Symbol.iterator]();!(n=(s=i.next()).done);n=!0){var o=s.value;t.push(o.FollowingId)}}catch(c){l=!0,r=c}finally{try{n||null==i.return||i.return()}finally{if(l)throw r}}a.findReviewsofFollowers(t)}).catch(function(e){return console.log(e)})},a.findReviewsofFollowers=function(e){Q.getReviews({UserId:{$in:e}}).then(function(e){for(var t in e.data)e.data[t].className="d-none",e.data[t].editClass="d-none";a.setState({yourReviews:e.data})})},a.editReview=function(e){e.preventDefault();var t=e.target.getAttribute("reviewid");Q.getReviews({_id:t}).then(function(e){a.setState({thisReview:e.data[0],modalState:"show-modal",editContentClass:"modal-content-edit showContent"})})},a.closeModal=function(e){"undefined"!==typeof e&&e.preventDefault(),a.setState({modalState:"hide-modal",editContentClass:"modal-content-edit d-none",deleteContentClass:"modal-content-delete d-none"}),a.getReviews()},a.handleSwitchToReviews=function(){a.handleSwitch(),a.getReviews()},a.handleSwitchToFeed=function(){a.handleSwitch(),a.getFeed()},a.state={switch:!0,reviews:[],yourReviews:[],followers:[{}],numfollowing:"",numfollowers:"",rating:0,comment:"",numReviews:"",thisReview:{},modalState:"hide-modal",editContentClass:"modal-content-edit d-none",deleteContentClass:"modal-content-delete d-none"},a.handleSwitch=a.handleSwitch.bind(Object(le.a)(Object(le.a)(a))),a.findFollowers=a.findFollowers.bind(Object(le.a)(Object(le.a)(a))),a.findFollowing=a.findFollowing.bind(Object(le.a)(Object(le.a)(a))),a.getReviews=a.getReviews.bind(Object(le.a)(Object(le.a)(a))),a.closeModal=a.closeModal.bind(Object(le.a)(Object(le.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getCurrentProfile(),this.findFollowers(),this.findFollowing(),this.getReviewCount(),this.getFeed()}},{key:"handleSwitch",value:function(){this.setState(function(e){return{switch:!e.switch}})}},{key:"render",value:function(){var e=this,t=this.props.auth.user;return l.a.createElement("div",{className:"page-h"},l.a.createElement(Y,null,l.a.createElement("div",{className:"dashboard-bg"},l.a.createElement("div",{className:"profile-header text-center"},l.a.createElement(q,null,l.a.createElement(G,{size:"md-12"},l.a.createElement("img",{className:"profile-pic img-responsive m-3",src:t.profilePic||"https://picsum.photos/250/?random",alt:"Profile"}))),l.a.createElement("div",{className:"row text-bg"},l.a.createElement(G,{size:"md-4",value:this.state.numReviews},"# of Reviews",l.a.createElement("strong",null," ",this.state.numReviews)),l.a.createElement(G,{size:"md-4",value:this.state.numfollowers},"# of Followers ",l.a.createElement("strong",null,this.state.numfollowers)),l.a.createElement(G,{size:"md-4",value:this.state.numfollowing},"# Following ",l.a.createElement("strong",null,this.state.numfollowing))),l.a.createElement("div",{className:"row text-bg"},l.a.createElement("hr",{className:"m-2"})),l.a.createElement("div",{className:"row text-bg"},l.a.createElement(G,{size:"md-6"},this.state.switch?l.a.createElement("button",null,"Review Feed \u25bc"):l.a.createElement("button",{onClick:this.handleSwitchToFeed},"Review Feed \u25b6")),l.a.createElement(G,{size:"md-6",value:this.state.numfollowing},this.state.switch?l.a.createElement("button",{onClick:this.handleSwitchToReviews},"Your Reviews \u25b6"):l.a.createElement("button",null,"Your Reviews \u25bc"))))),l.a.createElement(q,null,l.a.createElement(G,{size:"md-12"},this.state.switch?l.a.createElement(oe,null,l.a.createElement(ce,{key:t.username},l.a.createElement("strong",null,t.displayname+"'s Review Feed"))):l.a.createElement(oe,null,l.a.createElement(ce,{key:t.username},l.a.createElement("strong",null,t.displayname+"'s Reviews"))))),this.state.yourReviews.map(function(t){return l.a.createElement(ie,{id:t.UserId,name:t.restaurantname,yelpid:t.YelpId,key:t._id,rating:t.rating,review:t.review,username:t.username,displayname:t.displayname,myClass:t.className,deletebtn:e.deleteReview,reviewid:t._id,editClass:t.editClass,editreview:e.editReview})}),l.a.createElement("div",{id:"modal",className:this.state.modalState},l.a.createElement("div",{id:"dashboardmodel",className:this.state.editContentClass},l.a.createElement(G,{size:"md-12"},l.a.createElement("h3",null,this.state.thisReview.restaurantname),l.a.createElement(ue,{review:this.state.thisReview,closeModal:this.closeModal,refreshFunction:this.getReviews}))),l.a.createElement("div",{id:"verifydelete",className:this.state.deleteContentClass},l.a.createElement("h3",null,"Delete Review?"),l.a.createElement("br",null),l.a.createElement("div",{className:"btngroup"},l.a.createElement(me,{onClick:this.confirmDelete,className:"btn btn-success btn-left"},"Delete"),l.a.createElement(me,{onClick:this.closeModal,className:"btn btn-danger btn-right"},"Cancel"))))))}}]),t}(n.Component),pe=Object(p.b)(function(e){return{profile:e.profile,auth:e.auth}},{getCurrentProfile:_})(he),fe=function(e){return l.a.createElement("div",{className:"card d-flex flex-row whiteback"},l.a.createElement("div",{className:"img-wrap d-flex justify-content-center"},l.a.createElement("img",{style:{height:"100px",width:"100px"},id:e.id,alt:e.id,src:e.image})),l.a.createElement("div",{className:"main-content d-flex flex-column justify-content-between",style:{flex:1,marginLeft:5}},l.a.createElement("div",{className:"d-flex flex-row row1"},l.a.createElement("div",{style:{flex:1}},l.a.createElement("p",{className:"title"},e.name)),l.a.createElement("div",{className:"d-flex flex-row justify-content-md-end muted",style:{flex:1}},l.a.createElement("p",null,"0.5 miles"))),l.a.createElement("div",{className:"d-flex flex-row",style:{flex:1}},l.a.createElement("div",{className:"d-flex flex-row row2",style:{flex:1}},l.a.createElement(se.a,{rating:e.rating,starRatedColor:"yellow",numberOfStars:5,name:"rating",starDimension:"25px",starSpacing:"5px"}),l.a.createElement("div",{className:"d-flex flex-row justify-content-end muted",style:{flex:1}},l.a.createElement("p",null,e.price)))),l.a.createElement("p",null,e.category),l.a.createElement("div",{className:"d-flex flex-row",style:{flex:1}},l.a.createElement("div",{className:"d-flex flex-row",style:{flex:1}},l.a.createElement("p",{className:"muted",style:{width:"100%"}},e.address),l.a.createElement(u.b,{to:{pathname:"/search/id",state:{yelpId:e.id}},className:"btn btn-dark justify-content-end",style:{float:"right",margin:1}},"More Info")))),l.a.createElement("p",null))};function ve(e){return l.a.createElement("div",{className:"form-flex"},l.a.createElement("input",Object.assign({className:"form-control"},e)))}function ge(e){return l.a.createElement("button",Object.assign({},e,{style:{float:"right",height:"30px"},className:"icon d-flex"}),l.a.createElement("i",{className:"fa fa-search"}),e.children)}a(27);var we=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={restaurants:[],searchObj:{},searchVal:"",stateVal:"",cityVal:"",locationVal:{}},a.handleFormSubmit=function(e){e.preventDefault();var t=a.state.cityVal+", "+a.state.stateVal,n={term:a.state.searchVal,location:t,categories:"restaurants"};Q.queryRestaurants(n).then(function(e){a.setState({restaurants:e.data})})},a.handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(W.a)({},n,l))},a.handleGeocode=function(e){a.handleInputChange(e),Q.geocode(a.cityVal+a.stateVal).then(function(e){a.setState({locationVal:e.data})})},a.handleAutocomp=function(e){a.handleInputChange(e),a.state.searchVal.length>2?Q.autocomplete({text:a.state.searchVal,lat:a.state.locationVal.lat,lng:a.state.locationVal.lng}).then(function(e){a.setState({searchObj:{categories:e.data.categories,businesses:e.data.businesses,terms:e.data.terms}})}):a.setState({searchObj:{}})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"searcher page-h"},l.a.createElement("div",{className:"container d-flex flex-column",style:{width:"100%",height:"100%"}},l.a.createElement("h1",{className:"white"},"Restaurants"),l.a.createElement("div",{className:"d-flex flex-row",style:{flex:1}},l.a.createElement("div",{className:"d-flex flex-row",style:{flex:1,width:"100%"}},l.a.createElement(ve,{id:"city",className:"d-flex flex-row",style:{flex:1,width:"100%"},name:"cityVal",placeholder:"City",value:this.state.cityVal,onChange:this.handleInputChange}),l.a.createElement(ve,{id:"state",className:"d-flex flex-row",style:{flex:1,width:"100%"},name:"stateVal",disabled:!this.state.cityVal,placeholder:"State",value:this.state.stateVal,onChange:this.handleGeocode})),l.a.createElement(ve,{className:"d-flex flex-row",style:{flex:1,width:"100%"},value:this.state.searchVal,onChange:this.handleInputChange,name:"searchVal",placeholder:"Search for restuarants, bars...",disabled:!this.state.stateVal||!this.state.cityVal}),l.a.createElement(ge,{className:"d-flex flex-row justify-content-end search-btn",style:{flex:1,float:"right",padding:5},disabled:!this.state.searchVal,onClick:this.handleFormSubmit})),l.a.createElement("div",{className:"d-flex flex-row my-2 carddisplay",style:{height:"100%"}},l.a.createElement("div",{className:"col whiteback",style:{height:"100%",flex:.307,width:"100%"}},"Sidebar filter searches, navigate to other pages..something"),this.state.restaurants.length?l.a.createElement("div",{className:"col carddisplay",style:{width:"100%"}},this.state.restaurants.map(function(e,t){return l.a.createElement(fe,{key:e.id,id:e.id,name:e.name,link:e.url,image:e.image_url,rating:e.rating,location:e.coordinates,price:e.price,address:e.location.display_address,phone:e.display_phone,distance:e.distance,idx:t,category:e.categories[0].title})})):l.a.createElement("div",{className:"col ",style:{height:"100%",flex:1,width:"100%"}}),l.a.createElement("div",{className:"col whiteback",style:{height:"100%",flex:.4,width:"100%"}},"AD SPACE"))))}}]),t}(n.Component),Ee=function(e){return l.a.createElement("div",{className:"card d-flex flex-row"},l.a.createElement("div",{className:"img-wrap d-flex justify-content-center"},l.a.createElement("img",{className:"userpicsize",id:e.id,alt:e.id,src:e.imageurl})),l.a.createElement("div",{className:"main-content d-flex flex-column justify-content-between",style:{flex:1,marginLeft:5}},l.a.createElement("div",{className:"d-flex flex-row row1"},l.a.createElement("div",{style:{flex:1}},l.a.createElement("h1",{className:"titlename"},e.name)),l.a.createElement("div",{className:"d-flex flex-row justify-content-md-end muted",style:{flex:1}},l.a.createElement("button",{className:e.className,userid:e.id,onClick:e.follow},e.isFollowing))),l.a.createElement("div",{className:"numberof"},l.a.createElement("h5",null,"Number of Followers: ",e.followers),l.a.createElement("h5",null,"Number of Reviews:  ",e.reviews),l.a.createElement("h5",{className:"muted"},"Location:  ",e.location))),l.a.createElement("p",null))};function be(e){return l.a.createElement("div",{className:"form-flex"},l.a.createElement("input",Object.assign({className:"form-control"},e)))}function ye(e){return l.a.createElement("button",Object.assign({},e,{style:{float:"right",height:"30px"},className:"icon d-flex"}),l.a.createElement("i",{className:"fa fa-search"}),e.children)}var Ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(W.a)({},n,l))},a.handleClick=function(e){e.preventDefault(),Q.getUsers({username:{$regex:a.state.query}}).then(function(e){a.findFollowers(e.data)})},a.findFollowers=function(e){var t=e.map(function(e){return new Promise(function(t){Q.getfollowers({FollowingId:e._id}).then(function(a){var n=a.data.length;e.followers=n,t(e)})})});Promise.all(t).then(function(e){a.findReviews(e)})},a.findReviews=function(e){var t=e.map(function(e){return new Promise(function(t){Q.getReviews({UserId:e._id}).then(function(a){var n=a.data.length;e.reviews=n,t(e)})})});Promise.all(t).then(function(e){a.findIfFollowing(e)})},a.findIfFollowing=function(e){var t=e.map(function(e){return new Promise(function(t){Q.getfollowers({FollowerId:a.props.auth.user.id,FollowingId:e._id}).then(function(n){var l="Follow",r="btn btn-primary";e._id===a.props.auth.user.id?(l="Me",r="d-none"):n.data.length>0&&(l="Unfollow",r="btn btn-danger"),e.isFollowing=l,e.className=r,t(e)})})});Promise.all(t).then(function(e){a.setState({users:e})})},a.handleFollow=function(e){e.preventDefault();var t=e.target.getAttribute("userid"),n=null,l=a.state.users;for(var r in a.state.users)a.state.users[r]._id===t&&(n=r);Q.getfollowers({FollowerId:a.props.auth.user.id,FollowingId:t}).then(function(e){e.data.length>0?Q.deleteFollower(e.data[0]._id).then(function(e){l[n].followers-=1,l[n].isFollowing="Follow",l[n].className="btn btn-primary",a.setState({users:l})}):Q.addFollower({FollowerId:a.props.auth.user.id,FollowingId:t}).then(function(e){l[n].followers+=1,l[n].isFollowing="Unfollow",l[n].className="btn btn-danger",a.setState({users:l})})})},a.state={query:"",users:[]},a.findReviews=a.findReviews.bind(Object(le.a)(Object(le.a)(a))),a.handleClick=a.handleClick.bind(Object(le.a)(Object(le.a)(a))),a.findFollowers=a.findFollowers.bind(Object(le.a)(Object(le.a)(a))),console.log("props"+e),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getCurrentProfile()}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"profiles"},l.a.createElement("form",{className:"d-flex flex-column",type:"submit",style:{width:"100%"}},l.a.createElement("h1",null,l.a.createElement("strong",null,"Cool")),l.a.createElement("div",{className:"d-flex flex-row",style:{flex:1}},l.a.createElement(be,{className:"d-flex flex-row",style:{flex:1,width:"100%"},value:this.state.query,onChange:this.handleInputChange,name:"query",placeholder:"Search by username..."}),l.a.createElement(ye,{className:"d-flex flex-row justify-content-end search-btn",style:{flex:1,float:"right",padding:5},onClick:this.handleClick}))),l.a.createElement("div",{className:"carddisplay"},this.state.users.map(function(t){return l.a.createElement(Ee,{id:t._id,imageurl:t.profilePic,name:t.displayname,username:t.username,key:t._id,followers:t.followers,reviews:t.reviews,follow:e.handleFollow,location:t.city+", "+t.stateName,isFollowing:t.isFollowing,className:t.className})})))}}]),t}(n.Component),Ce=Object(p.b)(function(e){return{profile:e.profile,auth:e.auth}},{getCurrentProfile:_})(Ne),Re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).loadReviews=function(){Q.getReviews().then(function(e){return a.setState({reviews:e.data,rating:"",comment:""})}).catch(function(e){return console.log(e)})},a.handleFormSubmit=function(e){e.preventDefault(),a.state.comment&&a.addReview()},a.addReview=function(){Q.addReview({UserId:a.props.auth.user.id,username:a.props.auth.user.username,displayname:a.props.auth.user.displayname,YelpId:a.props.passProp,restaurantname:a.props.restaurantName,rating:a.state.rating,review:a.state.comment}).then(a.loadReviews()).catch(function(e){console.log(e.response.data),a.setState({errors:e.response.data})})},a.state={rating:0,comment:"",errors:{}},a.handleInputChange=a.handleInputChange.bind(Object(le.a)(Object(le.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getCurrentProfile(),this.loadReviews()}},{key:"handleInputChange",value:function(e){return function(t){var a={};a[e]=t.target.value,this.setState(a)}.bind(this)}},{key:"render",value:function(){var e=this.props.auth.user;return l.a.createElement("div",{className:"card review"},l.a.createElement(q,null,l.a.createElement(G,{size:"md-2"},l.a.createElement("img",{className:"comment-pic",src:e.profilePic,alt:"profile"}),l.a.createElement("div",{className:"text-center"},e.username)),l.a.createElement("div",{className:"col-md"},l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"rating"},"Rating:"),l.a.createElement("select",{className:"form-control",id:"rating",value:this.state.rating,onChange:this.handleInputChange("rating")},l.a.createElement("option",null,"0"),l.a.createElement("option",null,"0.5"),l.a.createElement("option",null,"1"),l.a.createElement("option",null,"1.5"),l.a.createElement("option",null,"2"),l.a.createElement("option",null,"2.5"),l.a.createElement("option",null,"3"),l.a.createElement("option",null,"3.5"),l.a.createElement("option",null,"4"),l.a.createElement("option",null,"4.5"),l.a.createElement("option",null,"5"))),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"comment"},"Comment:"),l.a.createElement("textarea",{className:"form-control",id:"comment",rows:"3",placeholder:"Comment (Required)",value:this.state.comment,onChange:this.handleInputChange("comment")}),l.a.createElement("p",{className:"error"},this.state.errors.review)),l.a.createElement(me,{disabled:!this.state.comment,onClick:this.handleFormSubmit,className:"btn btn-success"},"Submit Review")))))}}]),t}(n.Component),Oe=Object(p.b)(function(e){return{profile:e.profile,auth:e.auth}},{getCurrentProfile:_})(Re),je=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).getReviews=function(){Q.getReviews({YelpId:a.props.location.state.yelpId}).then(function(e){var t=0,n=0,l=0;for(var r in e.data)e.data[r].UserId===a.props.auth.user.id?(e.data[r].className="deletebtn",e.data[r].editClass="editbtn"):(t+=e.data[r].rating,n++,e.data[r].className="d-none",e.data[r].editClass="d-none");n>0&&(l=t/n),a.setState({numReviews:e.data.length,yourReviews:e.data,restaurantavg:l,restaurantreviewcount:n})}).catch(function(e){return console.log(e)})},a.deleteReview=function(e){e.preventDefault();var t=e.target.getAttribute("reviewid");a.setState({deleteContentClass:"modal-content-delete showContent",modalState:"show-modal",reviewID:t})},a.confirmDelete=function(e){e.preventDefault(),Q.deleteReview(a.state.reviewID).then(function(){a.setState({yourReviews:[],modalState:"hide-modal",editContentClass:"modal-content-edit d-none",deleteContentClass:"modal-content-delete d-none"}),a.getReviews()})},a.editReview=function(e){e.preventDefault();var t=e.target.getAttribute("reviewid");Q.getReviews({_id:t}).then(function(e){a.setState({thisReview:e.data[0],modalState:"show-modal",editContentClass:"modal-content-edit showContent"})})},a.closeModal=function(e){"undefined"!==typeof e&&e.preventDefault(),a.setState({modalState:"hide-modal",editContentClass:"modal-content-edit d-none",deleteContentClass:"modal-content-delete d-none"}),a.getReviews()},a.state={rating:0,comment:"",restaurant:{},searchObj:{},searchVal:"",stateVal:"",cityVal:"",locationVal:{},yelpId:"",reviews:[],yourReviews:[],thisReview:{},modalState:"hide-modal",editContentClass:"modal-content-edit d-none",deleteContentClass:"modal-content-delete d-none"},a.getReviews=a.getReviews.bind(Object(le.a)(Object(le.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.getCurrentProfile();var t={id:this.props.location.state.yelpId};Q.searchId(t).then(function(t){var a="",n="";for(var l in t.data.categories)a+="0"!==l?", "+t.data.categories[l].title:t.data.categories[l].title;for(var r in t.data.location.display_address)n+="0"!==r?", "+t.data.location.display_address[r]:t.data.location.display_address[r];e.setState({restaurant:t.data,categories:a,address:t.data.location.display_address,location:n,maplink:"https://maps.google.com/?q="+n,phone:t.data.display_phone,url:t.data.url}),e.getReviews()})}},{key:"render",value:function(){var e=this,t=this.props.location.state.yelpId,a=this.state.restaurant;return l.a.createElement("div",{className:"page-h dark-overlay"},l.a.createElement("form",{className:"d-flex flex-column",style:{width:"100%"}},l.a.createElement("div",{className:"d-flex flex-row",style:{flex:1}})),l.a.createElement(Y,null,l.a.createElement(q,null,l.a.createElement(G,{size:"md-12"},l.a.createElement("div",{className:"container datapage"},l.a.createElement("div",null,l.a.createElement("h3",null,this.state.restaurant.name),l.a.createElement("h6",null,"Yelp Rating:",l.a.createElement(se.a,{rating:this.state.restaurant.rating,starRatedColor:"red",numberOfStars:5,name:"rating",starDimension:"20px",starSpacing:"3px"})," ",l.a.createElement("em",null,"(",this.state.restaurant.review_count," reviews)")),l.a.createElement("h6",null,"Following Rating:",l.a.createElement(se.a,{rating:this.state.restaurantavg,starRatedColor:"blue",numberOfStars:5,name:"rating",starDimension:"20px",starSpacing:"3px"})," ",l.a.createElement("em",null,"(",this.state.restaurantreviewcount," reviews)")),l.a.createElement("h6",null,this.state.restaurant.price," \u2022 ",this.state.categories),l.a.createElement("img",{className:"restaurantimg",src:this.state.restaurant.image_url,alt:""}),l.a.createElement("div",{className:"contact"},l.a.createElement("h6",null,"Location: ",l.a.createElement("a",{href:this.state.maplink,target:"_blank",rel:"noopener noreferrer"},this.state.location)),l.a.createElement("h6",null,"Phone: ",this.state.phone),l.a.createElement("h6",null,l.a.createElement("a",{href:this.state.url,target:"_blank",rel:"noopener noreferrer"},"Website"))),l.a.createElement("div",{className:"floatright"})),l.a.createElement(Oe,{restaurantName:this.state.restaurant.name,passProp:t})))),l.a.createElement(q,null,l.a.createElement(G,{size:"md-12",className:"carddisplay"},l.a.createElement("div",{className:"carddisplay"},this.state.yourReviews.map(function(t){return l.a.createElement(ie,{id:t.UserId,name:a.name,key:t._id,username:t.username,displayname:t.displayname,rating:t.rating,review:t.review,myClass:t.className,deletebtn:e.deleteReview,reviewid:t._id,editClass:t.editClass,editreview:e.editReview})}))))),l.a.createElement("div",{id:"modal",className:this.state.modalState},l.a.createElement("div",{id:"dashboardmodel",className:this.state.editContentClass},l.a.createElement(G,{size:"md-12"},l.a.createElement("h3",null,this.state.thisReview.restaurantname),l.a.createElement(ue,{review:this.state.thisReview,closeModal:this.closeModal,refreshFunction:this.getReviews}))),l.a.createElement("div",{id:"verifydelete",className:this.state.deleteContentClass},l.a.createElement("h3",null,"Delete Review?"),l.a.createElement("br",null),l.a.createElement("div",{className:"btngroup"},l.a.createElement(me,{onClick:this.confirmDelete,className:"btn btn-success btn-left"},"Delete"),l.a.createElement(me,{onClick:this.closeModal,className:"btn btn-danger btn-right"},"Cancel")))))}}]),t}(n.Component),xe=Object(p.b)(function(e){return{profile:e.profile,auth:e.auth}},{getCurrentProfile:_})(je);a(84);if(localStorage.jwtToken){E(localStorage.jwtToken);var Se=v()(localStorage.jwtToken);k.dispatch(F(Se));var ke=Date.now()/1e3;Se.exp<ke&&(k.dispatch(I()),k.dispatch({type:"CLEAR_CURRENT_PROFILE"}),window.location.href="/login")}var Fe=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return l.a.createElement(p.a,{store:k},l.a.createElement(u.a,null,l.a.createElement("div",{className:"App page-b"},l.a.createElement("div",{className:"dark-overlay"},l.a.createElement(M,null),l.a.createElement("div",{className:"container page-h"},l.a.createElement(h.d,null,l.a.createElement(h.b,{exact:!0,path:"/",component:z}),l.a.createElement(h.b,{exact:!0,path:"/register",component:te}),l.a.createElement(h.b,{exact:!0,path:"/login",component:ne}),l.a.createElement(A,{exact:!0,path:"/search",component:we}),l.a.createElement(A,{exact:!0,path:"/profiles",component:Ce}),l.a.createElement(A,{path:"/dashboard",component:pe}),l.a.createElement(A,{path:"/search/id",component:xe}),l.a.createElement(h.b,{component:H}),l.a.createElement(A,{exact:!0,path:"/search/review",component:xe}),l.a.createElement(A,{exact:!0,path:"/dashboard/review",component:Z}),l.a.createElement(A,{path:"/dashboard/userreview",component:$}))),l.a.createElement(T,null)))))}}]),t}(n.Component);s.a.render(l.a.createElement(Fe,null),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.d92a83b8.chunk.js.map